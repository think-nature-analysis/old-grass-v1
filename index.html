<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Old grassland watch</title>
  <link rel="stylesheet" href="./libs/css/leaflet.css" />
  <link rel="stylesheet" href="./css/style.css">
</head>
<body style="overflow: hidden;">
  <div id="container">
    <div id="mapcontainer"></div>
    <div id="infoPanel">
      <span id="closeButton">&times;</span>
      <div id="info"></div>
      <div id="tabHeader">
        <button class="tab-btn active" data-tab="info1">info1</button>
        <button class="tab-btn" data-tab="info2">info2</button>
        <button class="tab-btn" data-tab="info3">info3</button>
      </div>
      <div id="info1Tab" class="tab-content active" style="height: 70%;">
        <div class="image-header1">
          <h3 id="imageTitle1">info panel 1</h3>
          <span id="imageTimestamp1"></span>
        </div>
        <img id="locationImage1" class="tab-info1" src="" alt="">
      </div>
      <div id="info2Tab" class="tab-content">
        <div class="image-header2">
          <h3 id="imageTitle2">info panel 2</h3>
          <span id="imageTimestamp2"></span>
        </div>
        <img id="locationImage2" class="tab-info2" src="" alt="">
      </div>
      <div id="info3Tab" class="tab-content">
        <div class="image-header3">
          <h3 id="imageTitle3">info panel 3</h3>
          <span id="imageTimestamp3"></span>
        </div>
        <img id="locationImage3" class="tab-info3" src="" alt="">
      </div>
    </div>
  </div>

  <div id="controls">
    <div id="homeControl">
      <button id="homeButton">HOME</button>
    </div>
    <!-- <div id="csvControl">
      <button id="loadCSVButton" style="visibility: hidden;">CSVからマーカーを追加</button>
    </div>-->

    <!-- レイヤー選択コンテナ -->
    <div id="layerSelectionContainer" class="layer-selection">
      <h3>Grassland area (10km grid)</h3>
      <div id="layerList" class="layer-list">
        <!-- レイヤーのチェックボックスはJavaScriptで動的に生成 -->
      </div>
    </div>

    <!-- アクティブレイヤー設定コンテナ -->
    <div id="activeLayersContainer" class="active-layers" style="display: none;">
      <h3>Active layer setting</h3>
      <div id="layer1Settings" class="layer-settings" style="display: none;">
        <h4 id="layer1Name">Layer 1</h4>
        <div class="opacity-container">
          <label for="layer1Opacity">Transparency:</label>
          <input type="range" id="layer1Opacity" class="opacitySlider" min="0" max="1" step="0.1" value="0.7">
        </div>
        <div class="colormap-container">
          <label for="layer1Colormap">Color maps:</label>
          <select id="layer1Colormap" class="colormap-select">
            <option value="Spectral">Spectral</option>
            <option value="gnuplot2">gnuplot2</option>
            <option value="RdYlGn">RdYlGn</option>
            <option value="RdYlBu">RdYlBu</option>
            <option value="viridis">viridis</option>
            <option value="jet">jet</option>
            <option value="ocean">ocean</option>
            <option value="nipy_spectral">nipy_spectral</option>
            <option value="terrain">terrain</option>
            <option value="binary">binary</option>
            <option value="Reds">Reds</option>
            <option value="Blues">Blues</option>
            <option value="Greens">Greens</option>
            <option value="RdBu">RdBu</option>
            <option value="PRGn">PRGn</option>
          </select>
          <div class="reverse-container">
            <input type="checkbox" id="layer1Reverse" class="reverse-checkbox">
            <label for="layer1Reverse">Reverse</label>
          </div>
        </div>
        <div class="range-container">
          <div class="slider-container">
            <label for="layer1Min">Min:</label>
            <span id="layer1MinDisplay">loading</span>
            <input type="range" id="layer1Min" class="range-slider" min="0" max="1" step="0.01" value="0">
          </div>
          <div class="slider-container">
            <label for="layer1Max">Max:</label>
            <span id="layer1MaxDisplay">loading</span>
            <input type="range" id="layer1Max" class="range-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </div>

      <div id="layer2Settings" class="layer-settings" style="display: none;">
        <h4 id="layer2Name">レイヤー2</h4>
        <div class="opacity-container">
          <label for="layer2Opacity">Transparency:</label>
          <input type="range" id="layer2Opacity" class="opacitySlider" min="0" max="1" step="0.1" value="0.7">
        </div>
        <div class="colormap-container">
          <label for="layer2Colormap">Color maps:</label>
          <select id="layer2Colormap" class="colormap-select">
            <option value="Spectral">Spectral</option>
            <option value="gnuplot2">gnuplot2</option>
            <option value="RdYlGn">RdYlGn</option>
            <option value="RdYlBu">RdYlBu</option>
            <option value="viridis">viridis</option>
            <option value="jet">jet</option>
            <option value="ocean">ocean</option>
            <option value="nipy_spectral">nipy_spectral</option>
            <option value="terrain">terrain</option>
            <option value="binary">binary</option>
            <option value="Reds">Reds</option>
            <option value="Blues">Blues</option>
            <option value="Greens">Greens</option>
            <option value="RdBu">RdBu</option>
            <option value="PRGn">PRGn</option>
          </select>
          <div class="reverse-container">
            <input type="checkbox" id="layer2Reverse" class="reverse-checkbox">
            <label for="layer2Reverse">Reverse</label>
          </div>
        </div>
        <div class="range-container">
          <div class="slider-container">
            <label for="layer2Min">Min:</label>
            <span id="layer2MinDisplay">loading</span>
            <input type="range" id="layer2Min" class="range-slider" min="0" max="1" step="0.01" value="0">
          </div>
          <div class="slider-container">
            <label for="layer2Max">Max:</label>
            <span id="layer2MaxDisplay">loading</span>
            <input type="range" id="layer2Max" class="range-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="logo-icon">
    <div id="logo-container">
      <img src="./logo.png" id="bottom-logo" alt="ロゴ">
    </div>
  </div>

  <!-- スクリプト読み込み -->
  <!-- External libraries -->
  <script src="./libs/js/leaflet.js"></script>
  <script src="./libs/js/georaster.browser.bundle.min.js"></script>
  <script src="./libs/js/georaster-layer-for-leaflet.min.js"></script>
  <script src="./libs/js/geoblaze.web.min.js"></script>
  <script src="./libs/js/chart.js"></script>
  <script src="./libs/js/js-yaml.min.js"></script>

  <!-- Application code -->
  <script src="./js/js-colormaps.js"></script>
  <script src="./js/constants.js"></script>
  <script src="./js/utils.js"></script>
  <script src="./js/error.js"></script>
  <script src="./js/layers.js"></script>
  <script src="./js/markers.js"></script>
  <script src="./js/panels.js"></script>
  <script src="./js/map.js"></script>
  <script src="./js/vector.js"></script>
  <script src="./js/main.js"></script>
  <!-- Leaflet Control OSM Geocoder -->
  <link rel="stylesheet" href="./libs/css/Control.Geocoder.css" />
  <script src="./libs/js/Control.Geocoder.js"></script>
<!-- モーダルウィンドウ -->
<div id="iframeModal" class="iframe-modal">
    <div class="iframe-modal-content">
        <div class="iframe-modal-header">
            <span class="iframe-modal-title">Detail</span>
            <span class="iframe-modal-close">&times;</span>
        </div>
        <div class="iframe-modal-body">
            <iframe id="modalIframe" src="" frameborder="0"></iframe>
        </div>
    </div>
</div>
</body>
</html>
